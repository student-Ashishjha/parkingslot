<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SmartPark - Vehicle Parking Management</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='styles.css') }}">

</head>
<body>
    <div class="container">
        <header>
            <div>
                <h1>SmartPark</h1>
                <div>Welcome, <span id="username">User</span></div>
            </div>
            <button id="logout-btn">Logout</button>
        </header>

        <div class="dashboard">
            <div class="stat-card"><div class="stat-label">Available Spots</div><div class="stat-value" id="available-count">0</div></div>
            <div class="stat-card"><div class="stat-label">Occupied Spots</div><div class="stat-value" id="occupied-count">0</div></div>
            <div class="stat-card"><div class="stat-label">Reserved Spots</div><div class="stat-value" id="reserved-count">0</div></div>
            <div class="stat-card"><div class="stat-label">Total Revenue</div><div class="stat-value" id="revenue">$0</div></div>
        </div>

        <div class="search-bar">
            <input type="text" id="search-input" placeholder="Search by license plate or spot #">
            <button id="search-btn">Search</button>
        </div>

        <div class="layout">
            <div class="card booking-form">
                <h2>Park a Vehicle</h2>
                <div class="form-group">
                    <label for="vehicle-type">Vehicle Type</label>
                    <select id="vehicle-type"><option value="">Select type</option><option value="car">Car</option><option value="motorcycle">Motorcycle</option><option value="truck">Truck/SUV</option></select>
                </div>
                <div class="form-group"><label for="license-plate">License Plate</label><input type="text" id="license-plate"></div>
                <div class="form-group"><label for="spot">Parking Spot</label><select id="spot"><option value="">Select spot</option></select></div>
                <div class="form-group"><label for="entry-time">Entry Time</label><input type="datetime-local" id="entry-time"></div>
                <div class="form-group"><label for="duration">Expected Duration (hours)</label><input type="number" id="duration" min="1" max="24"></div>
                <div class="price-info" id="price-info">Select vehicle type and duration to see price</div>
                <div>
                    <button id="book-btn" class="btn-book" disabled>Book Now</button>
                    <button id="reserve-btn" class="btn-reserve" disabled>Reserve</button>
                </div>
            </div>

            <div class="card slots-view">
                <h2>Parking Spots</h2>
                <div class="parking-grid" id="parking-grid"></div>
            </div>
        </div>
    </div>

    <div class="modal" id="spot-modal">
        <div class="modal-content">
            <span class="close-btn" id="close-modal">Ã—</span>
            <h2>Spot Details</h2>
            <div id="modal-content"></div>
            <div id="ticket-container"></div>
            <div class="action-buttons">
                <button id="checkout-btn" class="btn-release" style="display: none;">Checkout Vehicle</button>
                <button id="release-reserve-btn" class="btn-release" style="display: none;">Release Reservation</button>
            </div>
        </div>
    </div>

    <div class="toast" id="toast"></div>

    <script src="{{ url_for('static', filename='script.js') }}"></script>

</body>
</html>
